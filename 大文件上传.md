#### å¤§æ–‡ä»¶ä¸Šä¼ 
åŸºæœ¬æ€è·¯ï¼š
1ã€å°†å¤§æ–‡ä»¶åˆ‡å‰²æˆå›ºå®šå¤§å°çš„å—
```
const chunkSize = 3 * 1024 * 1024; // æ¯ä¸€ä¸ªåˆ†ç‰‡çš„å¤§å°ï¼š3M
const chunksList = [];  // ç”¨æˆ·é€‰ä¸­æ–‡ä»¶çš„åˆ‡ç‰‡æ–‡ä»¶

// ä¸Šä¼ æ–‡ä»¶
uploadFile.addEventListener('click', function () {
    // å¦‚æœæ²¡æœ‰é€‰ä¸­çš„æ–‡ä»¶ï¼Œç›´æ¥ç»“æŸ
    if (!checkedFile) return;  
    // æ–‡ä»¶åˆ‡ç‰‡
    createChunks();
})
// åˆ›å»ºæ–‡ä»¶åˆ‡ç‰‡
const createChunks = () => {
    let start = 0;   // åˆ‡ç‰‡æ–‡ä»¶çš„èµ·å§‹ä½ç½®
    while (start < checkedFile.size) {
        // æ–‡ä»¶åˆ‡ç‰‡
        const chunkItem = checkedFile.slice(start, start + chunkSize);
        // å°†åˆ‡ç‰‡ä¿å­˜åˆ°å…¨å±€çš„åˆ‡ç‰‡æ•°ç»„ä¸­
        chunksList.push(chunkItem);
        start += chunkSize;
    }
}

```
2ã€å¹¶è¡Œæˆ–è€…ä¸²è¡Œä¸Šä¼ å—
3ã€æœåŠ¡ç«¯æ¯æ¥æ”¶ä¸€ä¸ªå°±ä¿å­˜ä¸€ä¸ªï¼ŒæœåŠ¡å™¨éªŒè¯æ¯ä¸ªåˆ†ç‰‡çš„å®Œæ•´æ€§ 
4ã€å®¢æˆ·ç«¯å…¨éƒ¨å®Œæˆä¸Šä¼ å‘é€åˆå¹¶åˆ†ç‰‡çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ•´åˆå®Œæ•´æ–‡ä»¶

#### æ–­ç‚¹ç»­ä¼ 
å®¢æˆ·ç«¯ï¼šä¸Šä¼ å‰å‘æœåŠ¡å™¨æŸ¥è¯¢å·²ä¸Šä¼ çš„åˆ†ç‰‡ï¼Œè·³è¿‡ä¸ä¸Šä¼ 
æœåŠ¡ç«¯ï¼šè®°å½•æ¯ä¸ªæ–‡ä»¶å·²ç»æˆåŠŸä¸Šä¼ çš„æ–‡ä»¶ä¿¡æ¯
å®ç°æ–¹å¼ï¼šä¸ºæ¯ä¸ªæ–‡ä»¶å¿«ç”Ÿæˆå”¯ä¸€id,ä¸ºæ¯ä¸ªåˆ†ç‰‡è®°å½•ä¸Šä¼ çŠ¶æ€

```
import React, { useState, useRef, useCallback } from 'react';
import './FileUploader.css';

// æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ ç»„ä»¶
const FileUploader = () => {
  const [selectedFile, setSelectedFile] = useState(null);
  const [uploadProgress, setUploadProgress] = useState(0);
  const [uploadStatus, setUploadStatus] = useState('idle'); // idle, uploading, paused, completed, error
  const [uploadedChunks, setUploadedChunks] = useState(0);
  const [totalChunks, setTotalChunks] = useState(0);
  const fileInputRef = useRef(null);
  const controllerRef = useRef(null); // ç”¨äºå–æ¶ˆè¯·æ±‚

  // åˆ†ç‰‡å¤§å°ï¼ˆ1MBï¼‰
  const CHUNK_SIZE = 1 * 1024 * 1024;

  // å¤„ç†æ–‡ä»¶é€‰æ‹©
  const handleFileSelect = (event) => {
    const file = event.target.files[0];
    if (file) {
      setSelectedFile(file);
      setUploadProgress(0);
      setUploadStatus('idle');
      setUploadedChunks(0);
      setTotalChunks(Math.ceil(file.size / CHUNK_SIZE));
    }
  };

  // å¤„ç†æ‹–æ”¾æ–‡ä»¶
  const handleDrop = (event) => {
    event.preventDefault();
    const file = event.dataTransfer.files[0];
    if (file) {
      setSelectedFile(file);
      setUploadProgress(0);
      setUploadStatus('idle');
      setUploadedChunks(0);
      setTotalChunks(Math.ceil(file.size / CHUNK_SIZE));
    }
  };

  // é˜»æ­¢é»˜è®¤æ‹–æ”¾è¡Œä¸º
  const handleDragOver = (event) => {
    event.preventDefault();
  };

  // æ¨¡æ‹Ÿåˆ†ç‰‡ä¸Šä¼ åˆ°æœåŠ¡å™¨
  const uploadChunk = async (chunk, chunkIndex, totalChunks, fileId) => {
    // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥æ˜¯çœŸå®çš„APIè°ƒç”¨
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        // æ¨¡æ‹Ÿ90%çš„æˆåŠŸç‡å’Œéšæœºç½‘ç»œå»¶è¿Ÿ
        if (Math.random() > 0.1) {
          resolve({ chunkIndex, success: true });
        } else {
          reject(new Error(`ä¸Šä¼ åˆ†ç‰‡ ${chunkIndex} å¤±è´¥`));
        }
      }, 100 + Math.random() * 500);
    });
  };

  // ç”Ÿæˆæ–‡ä»¶å”¯ä¸€æ ‡è¯†ï¼ˆå®é™…åº”ç”¨ä¸­åº”ä½¿ç”¨æ›´å¯é çš„æ–¹æ³•ï¼‰
  const generateFileId = (file) => {
    return `${file.name}-${file.size}-${file.lastModified}`;
  };

  // å¼€å§‹ä¸Šä¼ 
  const startUpload = async () => {
    if (!selectedFile) return;

    setUploadStatus('uploading');
    const fileId = generateFileId(selectedFile);
    const totalChunksCount = Math.ceil(selectedFile.size / CHUNK_SIZE);
    setTotalChunks(totalChunksCount);

    let uploaded = 0;
    controllerRef.current = new AbortController();

    try {
      for (let i = 0; i < totalChunksCount; i++) {
        // å¦‚æœä¸Šä¼ è¢«æš‚åœï¼Œè·³å‡ºå¾ªç¯
        if (uploadStatus === 'paused') {
          break;
        }

        // è®¡ç®—å½“å‰åˆ†ç‰‡çš„èµ·å§‹å’Œç»“æŸä½ç½®
        const start = i * CHUNK_SIZE;
        const end = Math.min(start + CHUNK_SIZE, selectedFile.size);
        const chunk = selectedFile.slice(start, end);

        // ä¸Šä¼ åˆ†ç‰‡
        await uploadChunk(chunk, i, totalChunksCount, fileId);
        
        uploaded++;
        setUploadedChunks(uploaded);
        
        // æ›´æ–°è¿›åº¦
        const progress = Math.round((uploaded / totalChunksCount) * 100);
        setUploadProgress(progress);
      }

      if (uploaded === totalChunksCount) {
        setUploadStatus('completed');
        // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥è°ƒç”¨åˆå¹¶æ–‡ä»¶çš„API
      } else if (uploadStatus === 'paused') {
        // ä¸Šä¼ è¢«æš‚åœï¼Œä¿æŒçŠ¶æ€
      }
    } catch (error) {
      console.error('ä¸Šä¼ å‡ºé”™:', error);
      setUploadStatus('error');
    }
  };

  // æš‚åœä¸Šä¼ 
  const pauseUpload = () => {
    setUploadStatus('paused');
    if (controllerRef.current) {
      controllerRef.current.abort();
    }
  };

  // ç»§ç»­ä¸Šä¼ 
  const resumeUpload = () => {
    setUploadStatus('uploading');
    startUpload();
  };

  // å–æ¶ˆä¸Šä¼ 
  const cancelUpload = () => {
    setUploadStatus('idle');
    setUploadProgress(0);
    setUploadedChunks(0);
    if (controllerRef.current) {
      controllerRef.current.abort();
    }
  };

  // é‡ç½®ä¸Šä¼ çŠ¶æ€
  const resetUpload = () => {
    setSelectedFile(null);
    setUploadProgress(0);
    setUploadStatus('idle');
    setUploadedChunks(0);
    setTotalChunks(0);
    if (fileInputRef.current) {
      fileInputRef.current.value = '';
    }
  };

  // æ ¼å¼åŒ–æ–‡ä»¶å¤§å°
  const formatFileSize = (bytes) => {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
  };

  return (
    <div className="file-uploader">
      <h2>React Hooks å¤§æ–‡ä»¶ä¸Šä¼ ç»„ä»¶</h2>
      
      {/* æ–‡ä»¶é€‰æ‹©åŒºåŸŸ */}
      <div 
        className="drop-zone"
        onDrop={handleDrop}
        onDragOver={handleDragOver}
      >
        <input
          type="file"
          ref={fileInputRef}
          onChange={handleFileSelect}
          className="file-input"
          id="fileInput"
        />
        <label htmlFor="fileInput" className="file-label">
          <div className="upload-icon">ğŸ“</div>
          <p>ç‚¹å‡»é€‰æ‹©æ–‡ä»¶æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„</p>
        </label>
      </div>

      {/* æ–‡ä»¶ä¿¡æ¯æ˜¾ç¤º */}
      {selectedFile && (
        <div className="file-info">
          <h3>æ–‡ä»¶ä¿¡æ¯</h3>
          <div className="file-details">
            <div className="detail-item">
              <span className="label">æ–‡ä»¶å:</span>
              <span className="value">{selectedFile.name}</span>
            </div>
            <div className="detail-item">
              <span className="label">æ–‡ä»¶å¤§å°:</span>
              <span className="value">{formatFileSize(selectedFile.size)}</span>
            </div>
            <div className="detail-item">
              <span className="label">æ–‡ä»¶ç±»å‹:</span>
              <span className="value">{selectedFile.type || 'æœªçŸ¥'}</span>
            </div>
            <div className="detail-item">
              <span className="label">åˆ†ç‰‡æ•°é‡:</span>
              <span className="value">{totalChunks}</span>
            </div>
          </div>
        </div>
      )}

      {/* ä¸Šä¼ è¿›åº¦åŒºåŸŸ */}
      {selectedFile && uploadStatus !== 'idle' && (
        <div className="upload-progress">
          <h3>ä¸Šä¼ è¿›åº¦</h3>
          <div className="progress-container">
            <div className="progress-bar">
              <div 
                className="progress-fill" 
                style={{ width: `${uploadProgress}%` }}
              ></div>
            </div>
            <div className="progress-text">
              {uploadProgress}% ({uploadedChunks}/{totalChunks} åˆ†ç‰‡)
            </div>
          </div>

          {/* çŠ¶æ€æ˜¾ç¤º */}
          <div className={`status ${uploadStatus}`}>
            {uploadStatus === 'uploading' && 'ä¸Šä¼ ä¸­...'}
            {uploadStatus === 'paused' && 'å·²æš‚åœ'}
            {uploadStatus === 'completed' && 'ä¸Šä¼ å®Œæˆ!'}
            {uploadStatus === 'error' && 'ä¸Šä¼ å‡ºé”™'}
          </div>

          {/* æ§åˆ¶æŒ‰é’® */}
          <div className="control-buttons">
            {uploadStatus === 'idle' && (
              <button className="btn btn-primary" onClick={startUpload}>
                å¼€å§‹ä¸Šä¼ 
              </button>
            )}
            
            {uploadStatus === 'uploading' && (
              <button className="btn btn-pause" onClick={pauseUpload}>
                æš‚åœä¸Šä¼ 
              </button>
            )}
            
            {uploadStatus === 'paused' && (
              <button className="btn btn-resume" onClick={resumeUpload}>
                ç»§ç»­ä¸Šä¼ 
              </button>
            )}
            
            {(uploadStatus === 'uploading' || uploadStatus === 'paused') && (
              <button className="btn btn-cancel" onClick={cancelUpload}>
                å–æ¶ˆä¸Šä¼ 
              </button>
            )}
            
            {(uploadStatus === 'completed' || uploadStatus === 'error') && (
              <button className="btn btn-reset" onClick={resetUpload}>
                é‡æ–°é€‰æ‹©
              </button>
            )}
          </div>
        </div>
      )}

      {/* ä¸Šä¼ åŠŸèƒ½è¯´æ˜ */}
      <div className="feature-explanation">
        <h3>åŠŸèƒ½ç‰¹æ€§</h3>
        <ul>
          <li>âœ… æ”¯æŒå¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ ï¼ˆé»˜è®¤1MB/ç‰‡ï¼‰</li>
          <li>âœ… æ”¯æŒä¸Šä¼ æš‚åœ/ç»§ç»­</li>
          <li>âœ… å®æ—¶ä¸Šä¼ è¿›åº¦æ˜¾ç¤º</li>
          <li>âœ… æ‹–æ”¾æ–‡ä»¶ä¸Šä¼ </li>
          <li>âœ… æ¨¡æ‹Ÿç½‘ç»œé”™è¯¯å¤„ç†</li>
        </ul>
      </div>
    </div>
  );
};

export default FileUploader;
```