#### Next SSR CSR

##### CSR客户端渲染
1、用户请求网址
2、服务器响应html文件和js文件
3、浏览器下载并解析html，然后下载并执行js
4、js执行完毕，动态的将内容渲染在页面上
5、页面可交互

优点：
前后端分离
丰富的交互，首次加载后，后续页面切换速度快，
缺点：
首屏加载慢，用户必须等js下载，解析，执行完才能看到内容，导致首次访问体验差
##### SSR服务端渲染
1、用户请求网址
2、服务器接收请求，在服务器立即执行React代码，生成完成的html字符串
3、服务器将已经解析好的html发送给浏览器
4、浏览器立即解析html，用户瞬间看到内容
5、同时，页面所需的js文件也会被下载，下载完成后，js会接管页面(Hydration)，使页面可交互

优点：
首屏快
缺点：
服务器压力大
开发复杂
首屏快，但是js如果慢，也买你交互时间会延迟

##### Next 全栈React
1. SSR 服务端渲染(动态渲染)
   每次请求时，都在服务器上生成HTML,适用于数据频繁变化的页面
   在页面组件中导出getServerSideProps函数，nextjs会在每次请求时调用这个函数获取数据流，然后用数据渲染组件形成html

2. SSG静态站点生成
   在构建时提前生成好html页面，静态文件可以被CDN缓存，提供最快的访问速度，使用数据变化不频繁的页面，比如公司官网
   在页面组件中导出getStaticProps函数，nextjs在构建时会调用这个函数获取数据，并生成静态html

3. CSR渲染
   和传统SPA一样，在客户端进行渲染，适用不需要SEO的页面，
   在useEffect钩子或者组件挂在后发起数据请求，nextjs不对这种页面做处理
  
4. ​​ISR - 增量静态再生​
   SSG 的增强版。允许你在不重新构建整个站点的前提下，更新或生成新的静态页面。
   在 getStaticProps中返回一个 revalidate属性（例如 revalidate: 10）。意思是：页面在构建后仍然是静态的，但如果10秒后有新请求，Next.js 会在后台重新生成这个页面，下次请求就得到新版本。

##### Hydration水和
SSR渲染中，服务器返回静态html后，React会在客户端重新执行一遍代码，但是不是创新DOM节点，而是将事件处理器挂在到现有的DOM树上，使得静态页面变得可交互，这就是水合。


##### ISR
ISR 允许你对静态页面进行“增量更新”。你可以在构建时生成一部分页面，而其他页面可以在运行时按需生成或定期重新生成。它通过 revalidate参数控制更新频率。
​​场景：​​ 一个新闻网站有1万篇文章。你不可能在构建时全部生成。你可以使用 ISR：
构建时只生成最热门的100篇文章的静态页面。
当用户访问第101篇文章时，如果页面不存在，Next.js 会服务器端渲染一次并缓存，后续访问就直接读缓存。
所有已生成的页面，每隔一小时（revalidate: 3600）在后台再生一次，以更新内容

#### Nextjs路由系统
​​Next.js 的路由系统是如何工作的？动态路由呢？​​
​​考察点：​​ 对 Next.js 文件系统路由的熟悉程度。
​​答案：​​ Next.js 使用基于 pages（或 app）目录的文件系统来定义路由。
pages/about.js-> /about
pages/blog/index.js-> /blog
pages/blog/[slug].js-> /blog/hello-world，在组件中可以通过 router.query.slug获取 hello-world。
pages/api/hello.js-> 创建一个 API 端点 /api/hello。


##### ​​Next.js 中的 next/image组件有什么优势？​​
​​考察点：​​ 对 Next.js 内置优化工具的认知。
​​答案：​​ 这是一个针对图像的优化组件，优势包括：
​​性能优化：​​ 自动提供现代格式（WebP/AVIF），如果浏览器支持的话。
​​视觉稳定性：​​ 自动防止布局偏移，通过设置宽高占位。
​​更快页面加载：​​ 默认懒加载图像，只在视口内时加载。
​​图像处理：​​ 可以按需调整图像大小和优化质量，减少带宽使用。